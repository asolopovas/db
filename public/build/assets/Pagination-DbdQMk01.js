import{d as F,p as P,C as s,x as m,q as H,e as u,o as i,f as b,k as C,V as o,n as c,F as N,r as _,h as B}from"./app-Dk6oj0LN.js";import{d as E}from"./debounce-DjfThCma.js";const W={class:"flex select-none py-2"},$=["onClick"],M=F({__name:"Pagination",props:{lastPage:{default:1},currentPage:{default:1},perSlice:{default:5},clickHandler:{type:Function,default:()=>{}}},setup(x){const e=x,y=P(window.innerWidth),t=P(e.currentPage-1),r=P(e.currentPage+e.perSlice-1),d=s(()=>Array.from({length:e.lastPage},(a,l)=>l+1)),f=s(()=>S.value.indexOf(e.currentPage)),S=s(()=>e.lastPage<4?d.value:d.value.slice(t.value,r.value)),p=s(()=>e.currentPage<e.lastPage?e.currentPage+1:!1),g=s(()=>e.currentPage>1?e.currentPage-1:!1);function k(){if(e.lastPage<=e.perSlice){t.value=0,r.value=e.lastPage;return}e.currentPage>1&&e.currentPage<=e.lastPage-e.perSlice&&(t.value=e.currentPage-2,r.value=e.currentPage+e.perSlice-2);const a=e.lastPage-e.perSlice+1;e.currentPage>a&&(t.value=e.lastPage-e.perSlice,r.value=e.lastPage),e.currentPage===a&&(t.value=e.lastPage-e.perSlice-1,r.value=e.lastPage-1)}function v(a){a>=1&&a<=e.lastPage&&a!==e.currentPage&&e.clickHandler(a)}function h(){t.value=0,r.value=e.perSlice,e.clickHandler(1)}function w(){t.value=e.lastPage<=e.perSlice?0:e.lastPage-e.perSlice,r.value=e.lastPage,e.clickHandler(e.lastPage)}return m(()=>e.perSlice,a=>{t.value=e.currentPage-1,r.value=t.value+a,k()},{immediate:!0}),m(()=>e.currentPage,(a,l)=>{f.value===e.perSlice-1&&a>l&&a!==e.lastPage&&(t.value+=1,r.value+=1),f.value===0&&a<l&&a!==1&&(t.value-=1,r.value-=1)}),H(()=>{window.addEventListener("resize",E(a=>{y.value=a.target.innerWidth},100)),k()}),(a,l)=>(i(),u("nav",W,[b("a",{class:c(["page-button page-first p-3 cursor-pointer",{"cursor-not-allowed":!g.value}]),"aria-label":"First",onClick:o(h,["prevent"])}," « ",2),a.perSlice>4?(i(),u("a",{key:0,class:c(["page-button page-prev p-3 cursor-pointer",{"cursor-not-allowed":!g.value}]),"aria-label":"Previous",onClick:l[0]||(l[0]=o(n=>g.value&&v(g.value),["prevent"]))}," ❰ ",2)):C("",!0),(i(!0),u(N,null,_(S.value,n=>(i(),u("a",{key:n,class:c(["page-button p-3 cursor-pointer text-center",{"border-round font-bold":n===a.currentPage}]),onClick:o(z=>v(n),["prevent"])},B(n),11,$))),128)),a.perSlice>4?(i(),u("a",{key:1,class:c(["page-button page-next cursor-pointer px-4 py-3",{"cursor-not-allowed":!p.value}]),"aria-label":"Next",onClick:l[1]||(l[1]=o(n=>p.value&&v(p.value),["prevent"]))}," ❱ ",2)):C("",!0),b("a",{class:c(["page-button page-last p-3 cursor-pointer font-thin",{"cursor-not-allowed":!p.value}]),"aria-label":"Next",onClick:o(w,["prevent"])}," » ",2)]))}});export{M as default};
